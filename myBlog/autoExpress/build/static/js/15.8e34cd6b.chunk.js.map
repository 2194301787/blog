{"version":3,"sources":["public/nav/nav.js","page/detailBlog/detailBlog.js"],"names":["LinkAntd","antd_lib_anchor__WEBPACK_IMPORTED_MODULE_19___default","a","Link","Nav","props","_this","Object","G_react_react_own_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_12__","this","G_react_react_own_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_14__","G_react_react_own_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_15__","call","state","background","top","urlName","handleMenuClick","bind","G_react_react_own_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__","e","parseInt","key","logout","_self","Ajax","post","then","res","data","msg","Logout","username","status","antd_lib_message__WEBPACK_IMPORTED_MODULE_11___default","success","catch","err","console","log","url","location","pathname","setState","window","onscroll","document","documentElement","scrollTop","body","nextProps","nextState","isLogin","getUsername","_this$props","myAvatar","menu","react__WEBPACK_IMPORTED_MODULE_20___default","createElement","antd_lib_menu__WEBPACK_IMPORTED_MODULE_9___default","onClick","Item","react_router_dom__WEBPACK_IMPORTED_MODULE_22__","to","style","className","antd_lib_avatar__WEBPACK_IMPORTED_MODULE_7___default","size","src","concat","BaseUrl","icon","title","href","antd_lib_dropdown__WEBPACK_IMPORTED_MODULE_1___default","overlay","antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default","antd_lib_icon__WEBPACK_IMPORTED_MODULE_5___default","type","Component","ProTypes","string","bool","connect","user","withRouter","DetailBlog","G_react_react_own_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","G_react_react_own_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","G_react_react_own_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","blog","id","match","params","antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default","error","_this$state$blog","content","createTime","react__WEBPACK_IMPORTED_MODULE_7___default","_public_nav_nav__WEBPACK_IMPORTED_MODULE_10__","marginTop","padding","fontSize","textAlign","marginBottom","moment","format","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"static/js/15.8e34cd6b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Anchor, Dropdown, Menu, Icon, message, Avatar } from 'antd';\r\nimport ProTypes from 'prop-types';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { Logout } from '../../store/action';\r\nimport Ajax from '../../component/ajax';\r\nimport {BaseUrl} from '../../component/baseURL';\r\n\r\nimport './nav.css';\r\n\r\nconst LinkAntd = Anchor.Link;\r\n\r\nclass Nav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            background: 'transparent',\r\n            top: '15%',\r\n            urlName: '/'\r\n        }\r\n        this.handleMenuClick = this.handleMenuClick.bind(this);\r\n    }\r\n    handleMenuClick(e) {\r\n        let key = parseInt(e.key);\r\n        switch (key) {\r\n            case 3:\r\n                this.logout();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    logout() {\r\n        let _self = this;\r\n        Ajax.post('/logout').then(res => {\r\n            if (res.data.msg === 200) {\r\n                _self.props.Logout({\r\n                    username: '',\r\n                    status: false\r\n                });\r\n                message.success('欢迎再次登陆');\r\n            }\r\n        }).catch(err => { console.log(err) });\r\n    }\r\n    componentDidMount() {\r\n        let _self = this;\r\n        let url = _self.props.location.pathname;\r\n        _self.setState(() => ({\r\n            urlName: url\r\n        }), () => {\r\n            if (url !== \"/\") {\r\n                _self.setState(() => ({\r\n                    background: 'rgba(72,60,50,0.8)',\r\n                    top: '0%'\r\n                }));\r\n            }\r\n            window.onscroll = function (e) {\r\n                let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n                if (scrollTop > 50 && url === \"/\") {\r\n                    _self.setState(() => ({\r\n                        background: '#252a33',\r\n                        top: '0%'\r\n                    }));\r\n                } else {\r\n                    if (url === \"/\") {\r\n                        _self.setState(() => ({\r\n                            background: 'transparent',\r\n                            top: '15%'\r\n                        }));\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount(){\r\n        window.onscroll = null;\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.props.isLogin !== nextProps.isLogin || this.state.urlName !== nextState.urlName || this.props.getUsername !== nextProps.getUsername) {\r\n            return true;\r\n        } else {\r\n            if (nextState.background === this.state.background) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    render() {\r\n        let { getUsername, isLogin, myAvatar } = this.props;\r\n        const menu = (\r\n            <Menu onClick={this.handleMenuClick}>\r\n                <Menu.Item key=\"1\"><Link to=\"/aboutMe\">关于我</Link></Menu.Item>\r\n                <Menu.Item key=\"2\"><Link to=\"/myBasic\">个人设置</Link></Menu.Item>\r\n                <Menu.Item key=\"4\"><Link to=\"/addBlog\">添加文章</Link></Menu.Item>\r\n                <Menu.Item key=\"3\">注销</Menu.Item>\r\n            </Menu>\r\n        );\r\n        return (\r\n            <div style={{\r\n                background: this.state.background,\r\n                top: this.state.top\r\n            }}\r\n                className=\"Nav-page\">\r\n                <div className=\"nav-left\">\r\n                    <Avatar size='large' src={`${BaseUrl}/${myAvatar}`} icon=\"user\" />\r\n                    <Link to='/'>Welcome {getUsername ? getUsername : \", 您还未登陆\"}</Link>\r\n                </div>\r\n                <div className='nav-right'>\r\n                    <div className='nav-right-ul'>\r\n                        <Anchor>\r\n                            <LinkAntd title='内容1' href='#Summarize-index-title' />\r\n                            <LinkAntd title='内容2' href='#' />\r\n                            <LinkAntd title='内容3' href='#' />\r\n                        </Anchor>\r\n                    </div>\r\n                    <div className=\"nav-right-regist\">\r\n                        {isLogin ?\r\n                            <Dropdown overlay={menu}>\r\n                                <Button>\r\n                                    功能 <Icon type=\"down\" />\r\n                                </Button>\r\n                            </Dropdown>\r\n                            :\r\n                            <Link to='/login'>去登陆</Link>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nNav.ProTypes = {\r\n    getUsername: ProTypes.string,\r\n    isLogin: ProTypes.bool,\r\n    myAvatar: ProTypes.string\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    getUsername: state.user.username,\r\n    isLogin: state.user.status,\r\n    myAvatar: state.user.myAvatar\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    Logout\r\n})(withRouter(Nav));","import React, { Component } from 'react';\r\nimport { message } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Ajax from '../../component/ajax';\r\nimport Nav from '../../public/nav/nav';\r\nimport moment from 'moment';\r\nimport './detailBlog.css';\r\n\r\nclass DetailBlog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            blog: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let _self = this;\r\n        Ajax.post('/findBlog', {\r\n            id: _self.props.match.params.id\r\n        }).then(res => {\r\n            if (res.data.msg === 200) {\r\n                _self.setState(() => ({\r\n                    blog: res.data.data\r\n                }));\r\n            } else {\r\n                message.error('获取失败');\r\n            }\r\n        }).catch(err => { console.log(err) });\r\n    }\r\n    render() {\r\n        let { content, title, createTime } = this.state.blog;\r\n        return (\r\n            <div className=\"DetailBlog-page\">\r\n                <Nav />\r\n                <div style={{\r\n                    marginTop: 120,\r\n                    padding: 30\r\n                }} className='DetailBlog'>\r\n                    <h3 style={{\r\n                        fontSize:25,\r\n                        textAlign:'center'\r\n                    }}>{title}</h3>\r\n                    <p style={{\r\n                        textAlign:'center',\r\n                        marginBottom:30\r\n                    }}>{moment(createTime).format('YYYY-MM-DD HH:mm:ss')}</p>\r\n                    <div dangerouslySetInnerHTML={{\r\n                        __html: content\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailBlog);"],"sourceRoot":""}